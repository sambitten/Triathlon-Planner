@page 
@model EventTrainer.Pages.Training.IndexModel

@{
    ViewData["Title"] = "Track";
}

<div class="container mt-5">
    <h1 class="mb-4">Track</h1>

    <form class="form-group">
        <label asp-for="SelectedExercise" class="control-label">
            Select Exercise:
        </label>

        <select asp-for="SelectedExercise" asp-items="Model.Exercises" onchange="this.form.submit();">
            <option value="">All</option>
        </select>


        <label asp-for="SortField" class="control-label">
            Sort by:
        </label>
        <select asp-for="SortField" onchange="this.form.submit();">

            <option value="Date">
                Date
            </option>

            <option value="Exercise type">
                Exercise type
            </option>

            <option value="Distance">
                Distance
            </option>

            <option value="Time">
                Time
            </option>

        </select>
    </form>


    <div class="my-4">
        <a asp-page="Create" class="btn btn-primary btn-sm">Create New</a>
    </div>

    <table class="table table-light table-hover">
        <thead class="table-light">
            <tr>
                <th>@Html.DisplayNameFor(model => model.TrainingDone[0].Date)</th>
                <th>@Html.DisplayNameFor(model => model.TrainingDone[0].Distance)</th>
                <th>@Html.DisplayNameFor(model => model.TrainingDone[0].TimeTaken)</th>
                <th>@Html.DisplayNameFor(model => model.TrainingDone[0].ExerciseType)</th>
                <th class="text-center">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model.TrainingDone)
            {
                <tr>
                    <td>@Html.DisplayFor(modelItem => item.Date)</td>
                    <td>@Html.DisplayFor(modelItem => item.Distance)</td>
                    <td>@Html.DisplayFor(modelItem => item.TimeTaken)</td>
                    <td>@Html.DisplayFor(modelItem => item.ExerciseType)</td>
                    <td class="text-center">
                        <div class="btn-group" role="group">
                            <a asp-page="./Edit" asp-route-id="@item.ID" class="btn btn-sm btn-secondary">Edit</a>
                            <a asp-page="./Delete" asp-route-id="@item.ID" class="btn btn-sm btn-danger">Delete</a>
                        </div>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>
